# 🎯 두 가지 분석 방식 비교

## 결론: **둘 다 지원합니다!**

시스템이 **GHX 직접 분석**과 **JSON 분석** 모두를 지원하도록 업데이트되었습니다.

---

## 📊 두 방식 상세 비교

### 방식 1: GHX 직접 분석 (새로 추가!) ✨
```
dual_save.ghx → Claude 분석
```

**장점:**
- ✅ **가장 간단**: 저장된 GHX 파일만 있으면 즉시 분석
- ✅ **추가 작업 불필요**: Grasshopper에서 아무것도 안 해도 됨
- ✅ **빠름**: 파일만 드래그하면 끝

**단점:**
- ⚠️ **정확도 약간 낮음**: XML 파싱 기반이라 일부 정보 누락 가능
- ⚠️ **와이어 연결 정보 제한적**: 복잡한 연결 구조는 완벽히 파악 못함

**추천 상황:**
- 빠른 개요 확인
- 기본적인 lint 검사
- 컴포넌트 개수/종류 파악

---

### 방식 2: JSON 내보내기 후 분석 (기존 방식)
```
Grasshopper → export_to_json.py 실행 → JSON → Claude 분석
```

**장점:**
- ✅ **100% 정확**: Grasshopper API 직접 사용
- ✅ **완벽한 정보**: 와이어, 데이터 트리 접근, 슬라이더 값 등 모든 정보
- ✅ **상세 분석 가능**: 복잡한 lint 규칙, 데이터 플로우 분석

**단점:**
- ⚠️ **한 단계 더 필요**: GHPython 스크립트 실행해야 함
- ⚠️ **GH 실행 필요**: Grasshopper가 열려있어야 함

**추천 상황:**
- 상세한 분석 필요
- 성능 최적화
- 리팩토링 계획
- 정확한 lint 검사

---

## 🎯 사용 시나리오별 추천

### 시나리오 1: 빠른 체크 ⚡
```
상황: 파일 저장했고, 간단히 이슈만 확인하고 싶음
방법: GHX 직접 분석
시간: 5초

Claude에게:
"이 GHX 파일 빠르게 분석해줘: C:\project\facade.ghx"
```

### 시나리오 2: 철저한 코드 리뷰 🔍
```
상황: PR 전 완벽한 검사 필요
방법: JSON 내보내기 → 분석
시간: 30초

1. GH에서 export_to_json.py 실행
2. Claude에게: "이 JSON 파일 완전히 분석해줘"
```

### 시나리오 3: 성능 최적화 🚀
```
상황: 느린 정의를 빠르게 만들어야 함
방법: JSON 내보내기 (와이어/데이터트리 정보 필요)

Claude에게:
"이 정의를 성능 최적화해줘: C:\project\slow.json
목표: 계산 시간 50% 단축"
```

### 시나리오 4: 버전 비교 📊
```
상황: 어제 버전과 오늘 버전 비교
방법: GHX 직접 (빠르고 충분)

Claude에게:
"두 버전 비교해줘:
이전: C:\project\v1.ghx
최신: C:\project\v2.ghx"
```

---

## 💡 실전 워크플로우 추천

### 일상 작업 (빠른 사이클)
```
1. 작업 중: 그냥 GHX로 저장 (dual_save 사용)
2. 퇴근 전: Claude에게 GHX 파일 직접 분석 요청
3. 이슈 발견 → 다음날 수정
```

### 주간 리뷰 (균형)
```
월요일: GHX 직접 비교 (지난 주 vs 이번 주)
수요일: JSON 상세 분석 (중요 파일만)
금요일: GHX 빠른 체크 (전체 파일)
```

### 중요 프로젝트 (품질 우선)
```
개발 중: GHX 빠른 체크
코드 리뷰: JSON 상세 분석
배포 전: JSON 완전 검사
```

---

## 🚀 Claude 사용법

### 자동 감지 (추천!)
```
Claude에게 그냥 파일 경로만 주면 자동으로 감지:

"이 파일 분석해줘: C:\project\facade.ghx"
→ 자동으로 GHX 파서 사용

"이 파일 분석해줘: C:\project\facade.json"
→ 자동으로 JSON 분석기 사용
```

### 명시적 지정
```
"이 GHX 파일을 가능한 한 상세하게 분석해줘"
→ GHX 파서 + 최대한 상세 분석

"이 JSON 파일을 빠르게 요약해줘"
→ JSON 분석 + 요약만
```

---

## 📊 기능 비교표

| 기능 | GHX 직접 | JSON 내보내기 |
|------|----------|---------------|
| **설정 시간** | 0초 | 10초 |
| **분석 정확도** | 85% | 100% |
| **와이어 정보** | 제한적 | 완벽 |
| **데이터 트리** | 없음 | 완벽 |
| **슬라이더 값** | 있음 | 완벽 |
| **컴포넌트 정보** | 기본 | 상세 |
| **그룹 정보** | 부분 | 완벽 |
| **Lint 검사** | 기본 11개 | 전체 15개 |
| **추천 용도** | 일상 체크 | 상세 분석 |

---

## 🎓 어느 것을 사용할까?

### GHX 직접 분석을 사용하세요:
- ✅ 빠르게 확인하고 싶을 때
- ✅ 기본적인 이슈만 찾으면 될 때
- ✅ 여러 파일을 한번에 체크할 때
- ✅ Grasshopper가 안 열려있을 때
- ✅ 버전 비교만 할 때

### JSON 내보내기를 사용하세요:
- ✅ 정확한 분석이 필요할 때
- ✅ 성능 최적화를 할 때
- ✅ 복잡한 데이터 플로우 분석
- ✅ 리팩토링 계획 수립
- ✅ PR 전 완벽한 검사

---

## 🔄 실제 사용 예시

### 예시 1: 평범한 하루
```
09:00 - 작업 시작
12:00 - 점심 전 저장 (GHX)
       → Claude: "빠르게 체크해줘: morning_work.ghx"
       → 큰 이슈 없음 확인

15:00 - 중간 체크포인트
       → GHX 저장
       → Claude: 간단 분석
       
18:00 - 퇴근 전
       → export_to_json.py 실행
       → Claude: "상세 분석 + 내일 할 일"
```

### 예시 2: 중요한 PR
```
작업 완료 후:
1. dual_save로 GH + GHX 저장
2. export_to_json.py로 JSON 생성
3. Claude에게 JSON 파일로 완전 분석 요청
4. 모든 lint 통과 확인
5. PR 제출
```

### 예시 3: 빠른 리뷰
```
동료가 GHX 파일 공유:
1. 파일 받음
2. Claude: "이 파일 리뷰해줘: colleague.ghx"
3. 즉시 피드백
4. (필요시) JSON으로 상세 분석
```

---

## 🛠️ 설정 방법

### 1. 패키지 설치
```bash
pip install -r src/gh/requirements.txt
```

### 2. 서버 시작
```bash
python src/gh/start_server.py
```

### 3. Claude Desktop 설정
MCP 서버는 자동으로 두 포맷 모두 지원합니다!

```json
"gh_analyzer": {
  "command": "python",
  "args": ["C:\\...\\mcp_server.py"],
  "env": {"PYTHONPATH": "C:\\...\\RhinoScripts"}
}
```

---

## 📝 요약

### 당신의 경우 (GHX로 저장)

**90% 경우: GHX 직접 분석**
- 저장만 하면 끝
- 빠르고 간편
- 대부분의 이슈 포착

**10% 경우: JSON 내보내기**
- 중요한 분석
- 성능 최적화
- 정확한 lint 필요

**베스트 프랙티스:**
```
일상: GHX 직접
주간: JSON 상세 (금요일)
배포: JSON 완전 검사
```

---

## 🎉 결론

**양쪽의 장점을 모두 활용하세요!**

- 빠른 체크 = GHX
- 상세 분석 = JSON
- 자동 감지 = Claude가 알아서!

이제 어떤 상황에서도 최적의 분석을 할 수 있습니다! 🚀

---

## 📚 더 알아보기

- `README.md` - 전체 가이드
- `CLAUDE_SETUP.md` - 설정 방법
- `PROMPTS.md` - 프롬프트 예시
- `COMPLETE.md` - 완성 요약
